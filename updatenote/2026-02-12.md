日期：2026-02-12

内容：
  - 新增功能：
    - UDM 模型编辑器的 `rateExpr` 与 `stoich` 单元格支持点击弹窗编辑。
    - 弹窗右侧新增变量与参数快捷插入按钮，支持按光标位置插入。
    - UDM Components 表新增 `freeze` 开关列，支持按组分配置“冻结变化（dC/dt=0）”。
  - 改进：
    - Processes + Stoich + rateExpr 表格改为最小列宽 + 横向滚动，并冻结首列 `process name` 与 `rateExpr` 列。
    - 弹窗编辑增加实时高亮（稳定配色）与实时校验提示（warning，不阻塞保存）。
    - 新增“相邻符号仅由空格分隔”实时规则，提示缺少运算符。
    - 按项目 i18n 架构完成 UDM 编辑器新增部分的中/英国际化（`flow.udmEditor.*`），覆盖表单、弹窗、按钮、提示与校验文案。
    - 表达式校验改为 `code + meta` 输出，前端按语言渲染提示文案，避免硬编码文案混用。
    - UDM ODE 计算逻辑从 `core.py` 抽离到独立模块，便于后续维护与扩展。
    - UDM 组件定义扩展 `is_fixed` 字段，并已同步更新 OpenAPI 前端客户端类型。
  - 修复：
    - 优化校验结果跳转行为，可更准确定位并打开对应 `rateExpr/stoich` 编辑目标。
  - 改进：
    - 完成 ASM 多时段边参数输入（一期开关）需求澄清与文档定版，明确边参数范围仅 `flow/param_a/param_b`、时段全覆盖、边界阶跃切换、结果图分割线与变更注记可开关。
    - 新增需求文档：`docs/asm_multi_period_edge_input_requirement_2026-02-12.md`。
  - 改进：
    - 在多时段需求文档基础上，新增接口字段级清单与实施任务拆分文档，明确前后端字段契约、校验错误码、结果增强字段及 FE/BE/QA/DX 工作包。
    - 新增文档：`docs/asm_multi_period_edge_input_api_and_tasks_2026-02-12.md`。
  - 改进：
    - 输出 ASM 多时段边参数输入的一期开发排期版，包含里程碑日期、周度计划、关键路径、门禁验收与风险缓冲。
    - 新增文档：`docs/asm_multi_period_edge_input_dev_schedule_2026-02-12.md`。
  - 新增功能：
    - 前端新增“时段计划”编辑器（仿真面板内），支持时段增删改、复制、排序，以及按边配置 `flow/a/b` 覆盖值。
    - 分析图新增“时段分割线 / 参数变更注记”可开关显示（节点时序与边时序图均支持）。
  - 改进：
    - 前端 store 完成 `timeSegments` 状态持久化与导入导出透传，计算提交前接入时段合法性校验并阻断非法提交。
    - 更新中英文 i18n 文案与类型定义，补齐多时段编辑与图表标记相关键值。
    - 后端 `app/models.py` 补齐多时段输入与结果增强字段定义，修复历史字符串损坏导致的语法问题。
    - 按后端最新 OpenAPI 重新生成前端客户端：`frontend/src/client/sdk.gen.ts`、`frontend/src/client/types.gen.ts`。
  - 改进：
    - 补齐 ASM1/ASM1Slim/ASM3/UDM/MaterialBalance 结果摘要接口返回字段：`segment_count`、`parameter_change_event_count`。
    - 新增后端自动化测试覆盖：
      - `backend/app/tests/test_time_segment_validation.py`（时段规范化与合法性校验）
      - `backend/app/tests/test_material_balance_segment_overrides.py`（分段覆盖映射与参数变更事件）
  - 修复：
    - 修复 pytest 收集阻塞问题：`backend/debug_test.py` 改为缺失依赖时安全退出，不再中断测试。
    - 调整 `backend/app/material_balance/simple_test.py` 为脚本入口函数，避免被 pytest 误收集。
