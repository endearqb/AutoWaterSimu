## 目标
- 为每个页面（ASM1、ASM3、ASM1Slim、物料平衡）保留独立的主题调色板配置，不互相覆盖。
- 在每个页面应用主题时，优先突出该页面的特征节点 tint：ASM1→`asm1`，ASM3→`asm3`，ASM1Slim→`asmslim`，物料平衡→`default`。
- 扩大调色板面板高度与整体尺寸，并将系列（步数）控制按钮放入面板中，同时将面板整体在 y 轴上移，增强操作空间与可视性。
- 保持调色板展开后的互斥与关闭逻辑：点击其他按钮或画布空白处与现有其他弹层一致关闭。

## 实现方案
- 主题存储与应用（按页面）：
  - 扩展 `frontend/src/stores/themePaletteStore.ts`：增加 `modelPalettes`（以页面 key: `'asm1' | 'asm3' | 'asm1slim' | 'materialBalance'` 为键），提供：
    - `setModelPalette(modelKey, scheme, baseColor, steps)`：保存该页面的主题配置与生成的 palette。
    - `applyForModel(modelKey, tintOrder)`：根据该页面的 palette 写入 CSS 变量（包括 `accent/outline/handle/tint`），实现节点底色与边框/把手联动更新。
    - `applyStoredForModel(modelKey, tintOrder?)`：页面加载时重应用该页面已保存的主题。
  - 在四个路由页组件挂载时（`ASM1Page`、`ASM3Page`、`ASM1SlimPage`、`MaterialBalancePage`）通过 `useEffect` 调用 `applyStoredForModel(modelKey)`，确保每个页面进入时恢复其主题。

- 特征节点优先 tint 分配：
  - 确定每页 `tintOrder`：
    - ASM1: `['asm1','input','output','default','asm3','asmslim']`
    - ASM3: `['asm3','input','output','default','asm1','asmslim']`
    - ASM1Slim: `['asmslim','input','output','default','asm1','asm3']`
    - 物料平衡: `['default','input','output','asm1','asm3','asmslim']`
  - 颜色数量不足时循环取色，保证所有 tint 都有色值。

- 面板 UI 扩展：
  - 扩大调色板弹层：宽≈520px、高≈320px，整体位置上移（top 减小）让更多内容可见。
  - 增加“步数”系列按钮（例如 6/8/10）放置在面板中，可直接影响生成色板长度；实时预览行显示按当前选择生成的颜色序列。

- 互斥与关闭逻辑：
  - 已在 `SimulationActionPlate.tsx` 的全局 mousedown 捕获中包含 `themeOverlayRef` 与其他按钮 refs，点击画布或其他按钮会关闭当前调色板弹层；保持与 Steps/Resample/Hours/Bubble 统一的互斥行为。

## 交付与验证
- 更新 `themePaletteStore.ts` 添加 per-model 存储与应用方法，同时确保 `--chakra-colors-glass-tint-*` 写入为浅化+透明色值（节点底色）。
- 更新四个路由页在挂载时应用各自存储的主题。
- 扩大面板并添加步数系列按钮与预览行；保持类型检查通过：`cd frontend; npx tsc --noEmit`。
- 本地预览确保：每页主题独立保存与恢复；点击空白处或其他按钮关闭调色板弹层。